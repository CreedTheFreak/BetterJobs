plugins {
    id 'java'
    id 'idea'
    id 'application'
}

/**
 * The extensions of the root project
 *
 * Versioning
 *
 * cp_build - The current build of the plugin
 *
 * spigot/sponge version - The current version of the sponge and spigot builds
 * respectively. The layout of the versions are as follows 'x.y' where x is the
 * major version and y is the minor version of the plugin.
 *
 * common version - The common version of the plugin. These are all the common
 * files between both the plugins and is appended to the end of the jar file name.
 */
ext {
    // Version 0.8 from the WageTable Update for the dev build
    spigot_version = '0.9'
    // Version 0.1 for including the sponge api and creating the initial first class.
    sponge_version = '0.1'
    // Version 0.4 from the WageTable Update for the dev build
    common_version = '0.11'
    cp_build = 'dev'
    jar_root_prefix = 'craftyprof'
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'idea'
    
    dependencies {
        implementation group: 'net.jcip', name: 'jcip-annotations', version: '1.0'   
    }
}

allprojects {
    group = 'CraftyProfessions'
}

repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    implementation project(':common')
    implementation project(':spigot')
    implementation project(':sponge')
}

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

task makeall (dependsOn: [':spigot:makeSpigot', ':sponge:makeSponge', ':pluginName']) {

    group = 'Crafty Profession'
    description = 'Builds all of the jar files associated with crafty professions.'
}

task cleanAll (dependsOn: [':spigot:spigotClean', ':sponge:spongeClean', ':common:commonClean']) {
    group = 'CraftyProfession'
    description = 'Cleans all of the build directories associated with crafty professions'
}

task pluginName {
    doFirst {
        println "  _____            __ _           _____            __              _                  "
        println " / ____|          / _| |         |  __ \\          / _|            (_)                 "
        println "| |     _ __ __ _| |_| |_ _   _  | |__) | __ ___ | |_ ___  ___ ___ _  ___  _ __  ___  "
        println "| |    | '__/ _` |  _| __| | | | |  ___/ '__/ _ \\|  _/ _ \\/ __/ __| |/ _ \\| '_ \\/ __| "
        println "| |____| | | (_| | | | |_| |_| | | |   | | | (_) | ||  __/\\__ \\__ \\ | (_) | | | \\__ \\ "
        println " \\_____|_|  \\__,_|_|  \\__|\\__, | |_|   |_|  \\___/|_| \\___||___/___/_|\\___/|_| |_|___/ "
        println "                           __/ | "
        println "                          |___/  "
    }

    group = 'Crafty Profession'
    description = 'Displays the name of the plugin, in ascii art form!'
}

